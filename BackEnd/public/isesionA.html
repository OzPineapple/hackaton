<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Inicio</title>
</head>
<body>
    
    <section class="Registro">
        <div class="imag"></div>
        <div class="re"><br><br><br>
            <h1 >Inicio de sesi칩n</h1><br><br><br><br><br><br>
            <br>
            <form action="" style="border: 2px solid;border-color: red;width: 85%;margin: auto;padding: 20px;" id="form" method="post" onsubmit="send(event,this)">
                <label for="nom" class="reg">Usuario:</label>
                <input type="text" name="userAdmin" id="nom" class="regim"><br><br>
                <label for="cos" class="reg">Contrase침a:</label>
                <input type="password" name="pass" id="cos" class="regim"><br><br>
                <button class="enviar" type="submit">Iniciar sesi칩n</button>
            </form>
        </div>
    </section>
    
    <script>
        async function send(e,form){
            e.preventDefault();
            let resolt = await fetch("/usuarios/login",{
                method: 'POST', body: new URLSearchParams(new FormData(form)),
            });
            switch (resolt.status) {
                case 200:
                    alert("Bienvenido Administrador");
                    window.open("admin.html");
                    break;
                case 404:
                    alert("Usuario no existe");
                    break;
                case 500:
                    alert("Error en servidor");
                    break;
                case 401:
                    alert("Error dde contrase침a");
                    break;
            }
        }
        var enviar = document.querySelector(".enviar");
        var user = document.querySelector("#nom");
        var pass = document.querySelector("#cos");
        var form = document.getElementById("form");
        const data = new URLSearchParams(new FormData(form));
    </script>
</body>
</html>